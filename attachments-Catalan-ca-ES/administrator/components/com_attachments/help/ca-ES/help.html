<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ca" lang="ca">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.5: http://docutils.sourceforge.net/" />
<title>Documentació sobre els Adjunts</title>
<link rel="stylesheet" href="help.css" type="text/css" />
</head>
<body>
<div class="header">
<h1 class="title">Documentació per 'Adjunts'</h1>
<hr class="header"/>
</div>
<div class="document">


<p class="version"><strong>Versió 2.2 - 3 de desembre, 2010</strong></p>
<div class="contents topic" id="contingut">
<p class="topic-title first">Contingut</p>
<ul class="simple">
<li><a class="reference internal" href="#introducci" id="id1">Introducció</a></li>
<li><a class="reference internal" href="#noves-caracter-stiques-de-la-versi-2-0" id="id2">Noves característiques de la versió 2.0</a></li>
<li><a class="reference internal" href="#restriccions-a-les-pujades" id="id3">Restriccions a les pujades</a></li>
<li><a class="reference internal" href="#configuraci-d-adjunts" id="id4">Configuració d''Adjunts'</a></li>
<li><a class="reference internal" href="#mostrar-el-nom-d-arxiu-o-url" id="id5">Mostrar el nom d'arxiu o URL</a></li>
<li><a class="reference internal" href="#adjuntant-urls" id="id6">Adjuntant URLs</a></li>
<li><a class="reference internal" href="#a-qu-es-poden-adjuntar-els-arxius" id="id7">A què es poden adjuntar els arxius?</a></li>
<li><a class="reference internal" href="#estils-css-per-a-les-llistes-d-adjunts" id="id8">Estils CSS per a les llistes d'adjunts</a></li>
<li><a class="reference internal" href="#icones-per-tipus-d-arxiu" id="id9">Icones per tipus d'arxiu</a></li>
<li><a class="reference internal" href="#traduccions" id="id10">Traduccions</a></li>
<li><a class="reference internal" href="#avisos" id="id11">Avisos</a></li>
<li><a class="reference internal" href="#actualitzacions" id="id12">Actualitzacions</a></li>
<li><a class="reference internal" href="#agra-ments" id="id13">Agraïments</a></li>
<li><a class="reference internal" href="#contacte" id="id14">Contacte</a></li>
</ul>
</div>
<div class="section" id="introducci">
<h1><a class="toc-backref" href="#id1">Introducció</a></h1>
<p>L'extensió 'Attachments' (Adjunts a partir d'ara) per Joomla! permet carregar
arxius i adjuntar-los a articles o altre tipus de contingut. 'Adjunts' inclou
un plugin per a visualitzar els adjunts i un component èr carregar i
gestionar-los. Hi ha opcions per gestionar qui pot veure els adjunts i qui pot
carregar-los,junt amb altres opcions per augmentar la seva flexibilitat i
utilitat.
Nota: Totes les opcions es gestionen des del Gestor de components.
<strong>Aquesta extensió tan sols corre sobre Joomla! 1.5. I no s'ha provat amb la
versió 1.6.</strong></p>
<p>Aquesta extensió s'ha traduït a diversos idiomes.  Consulta la secció
'Traduccions' per veure la llista de traduccions disponibles. La major part
d'aquests paquets estan en proces d'adaptació a la versió 2.0.</p>
<p>Si et vols subscriure a una llista de correu per rebre anuncis sobre
l'extensió, utilitza aquesta pàgina web:</p>
<ul class="simple">
<li><a class="reference external" href="http://jmcameron.net/attachments/email-list.html">Llista d'email per 'Adjunts' ( http://jmcameron.net/attachments/email-list.html )</a></li>
</ul>
</div>
<div class="section" id="noves-caracter-stiques-de-la-versi-2-0">
<h1><a class="toc-backref" href="#id2">Noves característiques de la versió 2.0</a></h1>
<ul>
<li><p class="first">Es poden adjuntar tan arxius com URLs als continguts.</p>
</li>
<li><p class="first">Es pot visualitzar la llista d'adjunts a qualsevol lloc de l'article (o
altre contingut).</p>
</li>
<li><p class="first">Hi ha un nou camp opcional que permet visualitzar a les llistes el nom de
l'usuari que ha penjat l'adjunt.</p>
</li>
<li><p class="first">Implementa un multi-instal·lador que fa que la instal·lació de les diferents
parts de l'extensió tan sols requereixi una única instal·lació (que activa
els plugins automàticament). Això fa que sigui extremadament fàcil instal·lar
aquesta extensió tot i que ara consta d'un component i 7 plugins. Observa que
el mètode 'actualitza' de Joomla! actualment està per defecte a totes les
parts de l'extensió 'Adjunts'. Això significa que no cal desinstal·lar les
versions antigues de l'extensió abans d'instal·lar l'actual.</p>
</li>
<li><p class="first">S'ha modificat el sistema d'emmagatzemament dels arxius per admetre camins com:</p>
<pre class="literal-block">
adjunts/article/23/arxiu.txt
</pre>
<p>Això elimina tots els prefixos d'arxius utilitzats a versions prèvies. Cosa
que vol dir que un ítem no pot tenir noms d'arxiu duplicats. Això no
representa una gran limitació a la pràctica.</p>
</li>
<li><p class="first">Reprogramació del codi per tal d'afegir &quot;Attachments plugins&quot;. Aquests
plugins permetem adjuntar arxius a qualsevol ítem que invoqui <tt class="docutils literal"><span class="pre">onPrepareContent</span></tt>.
Per exemple, ara es poden adjuntar arxius a les descripcions de Seccions i
Categories.  Amb una mica de treball extra, un desenvolupador podria crear un
nou plugin 'Adjunts' per permetre adjuntar a 'coses' com  ara al component
'CB personal info displays', a les descripcions del 'Virtuemart', etc. Consulta
la secció <a class="reference internal" href="#a-qu-es-poden-adjuntar-els-arxius">A què es poden adjuntar els arxius?</a> per saber-ne més detalls.</p>
</li>
<li><dl class="first docutils">
<dt>A l'area d'administració:</dt>
<dd><ul class="first last simple">
<li>Ara es pot adjuntar mentre es creen els articles!</li>
<li>Hi ha una opció per a eliminar la llista d'adjunts a articles o continguts que no estiguin publicats o estiguin corruptes (hi ha una manera senzilla de visualitzar-los si es vol).</li>
<li>La llista d'articles es pot filtrar</li>
<li>S'ha de refet la taula que mostra la llista d'adjunts per permetre l'ordenació per diverses columnes.</li>
<li>Algunes noves comandes d'administració</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">S'ha millorat la gestió dels noms d'arxiu en format Unicode</p>
</li>
<li><p class="first">S'ha afegit més flexibilitat a les opcions &quot;Qui ho pot veure&quot; i &quot;Qui pot
carregar&quot;.</p>
</li>
<li><p class="first">S'ha afegit codi que corregeix problemes amb els CSS quan la instal·lació de
joomla! utilitza caché.</p>
</li>
</ul>
</div>
<div class="section" id="restriccions-a-les-pujades">
<h1><a class="toc-backref" href="#id3">Restriccions a les pujades</a></h1>
<p>No es poden carregar tots els tipus d'arxiu. L'extensió 'Adjunts' no permet
carregar arxius no permesos per la configuració multimèdia de Joomla!.
Per veure (o canviar) quins tipus d'arxius es permeten, consultar la
<strong>Configuració Global</strong> i seleccionar la pestanya <strong>Sistema</strong>. A l'apartat de
<em>Configuració multimèdia</em>, hi ha opcions per controlar quins tipus d'extensions
i tipus MIME està permès carregar. L'extensió respecta aquestes limitacions.
De totes maneres, s'ignora la restricció 'Extensions d'imatge vàlides (tipus de
fitxers)'.</p>
</div>
<div class="section" id="configuraci-d-adjunts">
<h1><a class="toc-backref" href="#id4">Configuració d''Adjunts'</a></h1>
<p>Totes les opcions de configuració es controlen des del gestor de components.
Per accedir a aquestes opcions cal anar al backend de l'administrador i
seleccionar l'opció 'Adjunts' del menú 'Components'. Seleccionar el botó
'Paràmetres' a la part superior dreta de la barra d'eines i es mostren els
paràmetres de l'extensió. Aquests paràmetres inclouen el següent:</p>
<ul>
<li><p class="first"><strong>Qui pot veure els adjunts:</strong> Aquesta opció controla qui podrà veure els
vincles als adjunts. Hi ha tres opcions:</p>
<ol class="arabic simple">
<li>'<em>Ningú</em>' - Si es selecciona aquesta opció la llista de vincles als
adjunts no serà visible pels visitants normals (des del frontend), estiguin
registrats o no. En mode segur, aquesta opció evita la descàrrega dels
adjunts des del frontend. Els administradors, seguiran veien la llista
d'adjunts i podran descarregar-se els arxius.</li>
<li>'<em>Tots els usuaris registrats</em>'. - Si es selecciona aquesta opció, només
els usuaris registrats podran veure els vincles als adjunts.</li>
<li>'<em>Qualsevol</em>' - Si es selecciona aquesta opció, els vincles seran
visibles per qualsevol visitant registrat o no.</li>
</ol>
</li>
<li><dl class="first docutils">
<dt><strong>Qui pot afegir adjunts:</strong> Aquesta opció controla qui pot afegir adjunts. Hi</dt>
<dd><p class="first last">ha quatre opcions:</p>
</dd>
</dl>
<ol class="arabic simple">
<li>'<em>Ningú</em>' - Si es selecciona, l'opció &quot;Adjuntar un arxiu&quot; no serà visible
als usuaris normals (al front-end), estiguin registrats o no.
En mode segur aquesta opció evita la possibilitat de carregar adjunts des
del front-end. Els Administradors podran veure l'opció &quot;Adjuntar un
arxiu&quot; i podran adjuntar En mode segur aquesta opció evita poder adjuntar
des del front-end. Els Administradors podran veure l'opció &quot;Adjuntar un
arxiu&quot; fins i tot si s'ha seleccionat 'Ningú'.</li>
<li>'<em>Només l'autor de l'article</em>' - Els vincles per adjuntar i editar adjunts
seran visibles per l'autor de l'article/contingut (al mateix temps que els
usuaris amb permisos superiors com els editors/publicadors/administradors).</li>
<li>'<em>Qualsevol usuari registrat</em>' - Els vincles per carregar articles està
visible a tots els usuaris registrats.</li>
<li>'<em>Editors i superiors</em>' - Els vincles per carregar adjunts només seran
visibles als usuaris amb permisos d'editor o superior.</li>
</ol>
</li>
<li><p class="first"><strong>Publicar els adjunts per defecte?:</strong> L'opció d'autopublicació configura
si els adjunts es publiquen per defecte quan s0afegeixen. Si es selecciona
'Si' quan s'afegeixen articles, es publiquen immediatament i es fan visibles
als usuaris. Si es selecciona 'No', els articles nous no es publicaran per
defecte. Caldrà que un administrador els publiqui des del backend abans de
que estiguin disponibles.</p>
</li>
<li><p class="first"><strong>Advertència d'auto-publicació:</strong> Si l'opció d'autopublicació es desactiva
(veure l'opció anterior), s'haurà d'informar als usuaris que afegeixin adjunts
de quina manera podran veure els seus adjunts publicats. S'hi pot posar el
text desitjat. Si es deixa en blanc es mostra un un missatge general del
sistema que suggereix que es posi en contacte amb l'administrador per a que
els publiqui.</p>
</li>
<li><p class="first"><strong>Mostrar títols:</strong> Si està a 'Si', s'afegeix una filera amb la descripció
dels camps sobre la llista d'adjunts.</p>
</li>
<li><p class="first"><strong>Mostrar la descripció?:</strong> Aquesta opció configura si es mostra el camp
descripció a la llista d'adjunts.</p>
</li>
<li><p class="first"><strong>Mostra qui ha carregat els adjunts:</strong> Mostra a la llista d'adjunts el nom
del usuari que ha carregat l'adjunt.</p>
</li>
<li><p class="first"><strong>Mostrar la mida de l'adjunt:</strong> Mostra a la llista d'adjunts la mida de
l'arxiu que s'ha carregat.</p>
</li>
<li><p class="first"><strong>Mostrar el nombre de descàrregues:</strong> Mostra a la llista d'adjunts el nombre
de descarregues de l'arxiu.</p>
<div class="warning">
<p class="first admonition-title">Avís</p>
<p class="last">Aquesta opció només funciona en mode segur!
En mode no segur s'accedeix directament als arxius sense passar pel codi
Joomla! per això és impossible mantenir el nombre de descàrregues dels
arxius.</p>
</div>
</li>
<li><p class="first"><strong>Mostrar la data de modificació de l'adjunt?</strong> Si està a 'Si', la data de
modificació de l'arxiu s'afegeix a la llista d'articles adjunts.</p>
</li>
<li><p class="first"><strong>Format de la data de modificació</strong> Es pot seleccionar el format de
visualització de la data utilitzant el format que utilitza la funció de PHP
strftime(). Cerca a la web 'PHP strftime()' per a veure'n exemples. El format
per defecte (%x %H:%M) mostra les dates amb el format temps en 24-hores com
4/28/2008 14:21. Per eliminar l'hora tan sols cal treure  &quot;%H:%M&quot;. Fixar-se en
que els sistemes windows i linux poden suportar codis diferents.</p>
</li>
<li><p class="first"><strong>Ordre del llistat d'adjunts</strong> Amb aquesta opció se selecciona en quin ordre
es llisten els adjunts. La majoria de les opcions són autoexplicatives:</p>
<ol class="arabic simple">
<li>'<em>Nom de l'arxiu</em>' - Els adjunts es mostren ordenats pel nom de l'arxiu.</li>
<li>'<em>Mida de l'arxiu (el més petit primer)</em>'</li>
<li>'<em>Mida de l'arxiu (el més gran primer)</em>'</li>
<li>'<em>Descripció</em>'</li>
<li>'<em>Mostrar el nom d'arxiu o URL</em>' - Els adjunts amb el nom en blanc es
mostren abans dels que en tenen.</li>
<li>'<em>Usuari</em>' - S'ordenen pel nom de l'usuari que ha carregat l'adjunt.</li>
<li>'<em>Data de creació (el més antic primer)</em>'</li>
<li>'<em>Data de creació (el més nou primer)</em>'</li>
<li>'<em>Data de modificació (el més antic primer)</em>'</li>
<li>'<em>Data de modificació (el més nou primer)</em>'</li>
<li>'<em>ID de l'adjunt (ordre dels arxius)</em>' - Quan es selecciona aquesta opció
els adjunts s'ordenen segons els sues ID's. Això ordena els adjunts segons
l'ordre de creació.</li>
<li>'<em>Camp 1 definit per l'usuari</em>'</li>
<li>'<em>Camp 2 definit per l'usuari</em>'</li>
<li>'<em>Camp 3 definit per l'usuari</em>'</li>
</ol>
</li>
<li><p class="first"><strong>Nom pels camps de 1 a 3 definits per l'usuari</strong> Si es disposa d'informació
addicional que es vulgui afegir, l'extensió permet definir 3 camps opcionals.
Per crear un nou camp s'ha de posar el nom en un dels tres camps disponibles.
Per eliminar-los tan sols cal esborrar-ne el contingut. Els camps es mostren
segons apareixen, camp1, 2, 3. La longitud màxima de cada camp és de 40
caràcters. La informació que s'hi pot afegir serà com a màxim de 100 caràcters.</p>
<div class="hint">
<p class="first admonition-title">Suggeriment</p>
<p class="last">Si s'afegeix un asterisc al final d'un camp definit per l'usuari, aquest
no es mostrarà al frontend.  Es visualitzara quan s'editi un adjunt al frontend
i sempre al backend.  Aquest camp ocult es pot utilitzar per ordenar els adjunts
de forma arbitraria, tan sols cal posar un valor enter en aquest camp.</p>
</div>
</li>
<li><p class="first"><strong>Màxima longitud del nom de l'arxiu o de la URL</strong> Els adjunts amb longitud
superior es trunquen (tan sols a efectes de visualització) el nom real no
canvia. Un valor de 0 significa que la longitud és il·limitada (el camp nom de
la base de dades a la taula d'adjunts està limitat a 80 caràcters). Nota: Si
es trunquen els noms per haver utilitzat aquesta opció, el nom truncat
s'insereix en el camp 'mostrar nom'. Aquesta opció tan sols afecta als adjunts
que s'afegeixin un cop activada.</p>
</li>
<li><p class="first"><strong>On s'han d'ubicar els adjunts?</strong> Aquesta opció controla la localització dels
adjunts en els articles (o altre ítem) L'opció s'aplica a totes les llistes
d'adjunts:</p>
<blockquote>
<blockquote>
<ul class="simple">
<li>'<em>A l'inici</em>'</li>
<li>'<em>Al final</em>'</li>
<li>'<em>Ubicació personalitzada</em>' - Amb aquesta opció les llistes d'adjunts
apareixen als articles (o altres ítems) on s'hagi posat el tag
{attachments}.</li>
</ul>
</blockquote>
<div class="warning">
<p class="first admonition-title">Avís</p>
<p class="last">En el mode personalitzat,si no es proporciona el tag, els adjunts apareixen al final de l'article ( o ítem ).</p>
</div>
<p>En aquest mode, quan s'edita un article, secció o categoria des de l'editor,
apareix un botó extra:[Insertar marca {attachments}]. Posicionar el cursor
on es vulgui colocar la marca i insertar-la mitjançant aquest botó. El botó
afegirà codi HTML per ocultar la marca quan no s'hagi de reemplaçar (p.e. quan
la llista d'adjunts no s'hagi de visualitzar). En HTML,la marca es mostra amb
un tag 'span' per ocultar-la:</p>
<pre class="literal-block">
&lt;span class=&quot;hide&quot;&gt;{attachments}&lt;/span&gt;
</pre>
<p>Al &quot;backend&quot; i als editors, es veurà el tag {attachments}, però no el codi HTML
'span' si no es passaa mode HTML. Al frontend tan sols es veurà el tag {attachments}
si l'opció insert_attachments_tag del plugin està desactivada. Si es vol
eliminar la marca {attachments} cal fer-ho des de el mode HTML del editor.</p>
<blockquote>
<ul class="simple">
<li>'<em>Desactivat (filtre)</em>' - Aquesta opció desactiva la visualització
d'adjunts i suprimeix la visualització dels tags {attachments} als articles
o contingut.</li>
<li>'<em>Desactivat (sense filtre)</em>' - Aquesta opció desactiva la visualització
d'adjunts i no suprimeix la visualització dels tags {attachments} als
articles o contingut.</li>
</ul>
</blockquote>
</blockquote>
</li>
<li><p class="first"><strong>Estil CSS per a les taules d'adjunts</strong> Per sobre escriure els estils CSS de
les llistes d'adjunts, posar el nom d'estil aquí. El nom per defecte és
'attachmentsList'. Consultar la secció <cite>Estils CSS per a les llistes d'adjunts</cite>.</p>
</li>
<li><p class="first"><strong>URL per a registrar-se</strong> Si cal una URL especial per registrar usuaris nous,
posar-la aquí. Aquesta opció pot ser útil si s'ha creat una pàgina de login
especial.</p>
</li>
<li><p class="first"><strong>Mode d'obertura de l'adjunt</strong> Se selecciona com es mostren els arxius
adjunts. 'A la mateixa finestra' es mostren a la mateixa finestra del navegador.
'En una finestra nova' l'adjunt es mostra en una nova finestra. En molts
navegadors aquesta darrera opció obre l'adjunt en una pestanya nova.</p>
</li>
<li><p class="first"><strong>Subdirectori per a desar els arxius</strong> El codi de l'extensió posa els arxius
en aquesta carpeta que penja de l'arrel del web Joomla. Per defecte s'utilitza
'attachments'. Si es canvia la carpeta, només afecta als futurs adjunts. Els
arxius carregats prèviament es mantenen al directori inicial i els registres
emmagatzemats a la Base de Dades seguiran referenciant-los.
Si es volen canviar de directori, s'haurà de fer manualment i desprès
actualitzar la BD també de forma manual.</p>
</li>
<li><p class="first"><strong>Títols personalitzats per a la llista d'adjunts</strong> Per defecte, l'extensió
'Adjunts' insereix el títol 'Adjunts:' per sobre de la llista d'adjunts en cada
article o contingut que tingui adjunts. En certs casos un es pot estimar més
que hi aparegui un altre text. Es pot especificar el terme exacte que es vol
que aparegui per cada ítem base. Per exemple, si es vol que l'article 211
utilitzi el títol personalitzat 'Descarregar:' s'ha d'afegir a la configuració:
'211 Descarregar' (sense les cometes). Utilitzar una entrada per línia. Pels
altres tipus de contingut, utilitzar: 'category:23' Que és el títol per la
categoria 23 i 'category' es pot reemplaçar pel nom de l'ítem on s'insereixi.
L'exemple d'abans pels articles pot fer-se posant 'article:211 Descarregar'.
Nota: Una entrada sense ID s'aplica a tots els ítems del contingut.
Per tant és una bona pràctica sobreescriure el títol globalment i desprès
anar-los personalitzant individualment</p>
<p>Nota: si es vol canviar els títols que utilitza l'extensió globalment es pot
editar l'arxiu de traduccions, cercar l'entrada 'ATTACHMENTS TITLE':</p>
<pre class="literal-block">
administrator/language/qq-QQ/qq-QQ.plg_frontend_attachments.ini
</pre>
<p>on qq-QQ fa referència al codi identificador del llenguatge, com per exemple
ca-ES pel Català. (Si no s'està familiaritzat amb els arxius de traducció de
Joomla!, cercar 'ATTACHMENTS TITLE' a l'esquerra del igual. I escriure el text
que vulgui a la dreta del signe '='. No s'ha de tocar res a l'esquerra del
'=' ).</p>
</li>
<li><p class="first"><strong>Ocultar els adjunts per</strong>
Una llista separada per comes de Seccions/Categories dels articles pels que
es volen amagar. Es poden utilitzar 5 paraules clau:</p>
<ul class="simple">
<li>'frontpage' fa invisible els adjunts des del frontend,</li>
<li>'blog' per eliminar la visualització de qualsevol pagina que utilitzi 'blog',</li>
<li>'all_but_article_views' per visualitzar els adjunts tan sols als articles,</li>
<li>'always_show_section_attachments' per permetre la visualització dels adjunts
per secció quan s'utilitza 'all_but_article_views', i</li>
<li>'always_show_category_attachments' per permetre la visualització dels adjunts per categoria quan s'utilitza 'all_but_article_views'</li>
</ul>
<p>(No s'han de posar les cometes quan s'escriuen les  paraules clau anteriors)</p>
<p><strong>L'opció 'frontpage' és aplicable a tot el contingut, els tipus diferents a
articles, seccions i categories, poden tenir o no 'all_but_article_views'</strong>
Els ids dels articles de les Seccions/Categories s'han d'entrar numèricament
separant la secció de la categoria mitjançant (/): Secció#/NumCategoria,
NumSecció/NumCategoria. Si es vol fer referència a totes les categories d'una
secció cal especificar el id de la secció: Exemple: 23/10, 23/11, 24</p>
</li>
<li><p class="first"><strong>S'ha excedit el temps límit validant els hipervicles</strong>
S'ha exhaurit el temps límit de validació dels hipervincles (segons). Quan
s'afegeix un adjunt, aquest es valida directament (es pot desactivar des del
formulari). Si es pot accedir al hipervincle abans del temps límit, es retorna
la mida de l'arxiu i altra informació sobre el vincle. Si no és possible
accedir-hi, s'utilitza informació genèrica. Per desactivar-ho posar un 0.</p>
</li>
<li><p class="first"><strong>Superposa icones pels hipervincles</strong>
Superposa una icona corresponent a una URL als adjunts que són URLs. Les
vàlides es mostren amb fletxes i les invàlides amb una creu vermella sobre la
icona del tipus de fitxer (de la part inferior esquerra a la superior dreta).</p>
</li>
<li><p class="first"><strong>Suprimeix els adjunts obsolets (en backend)</strong>
Configuració per defecte per eliminar els adjunts <em>obsolets</em> al backend
d'administració. en quest context ela adjunt <em>obsolets</em> són els que estan
lligats a pares no publicats o que estan a la paperera. Es pot sobreescriure
utilitzant l'opció de menú de la dreta 'Mostrar els adjunts per' just a sobre
de la llista d'adjunts (a la mateixa que línia que el filtre). Quan s'utilitza
l'opció de menú per canviar la visibilitat dels adjunt, el sistema recorda la
configuració fins que se surt de l'administrador. Per això canviar aquest
paràmetre pot semblar que no té efecte. Tindrà efecte la propera vegada que
l'usuari es registri com administrador.</p>
</li>
<li><p class="first"><strong>Descàrrega segura d'arxius adjunts</strong> Per defecte, l'extensió desa els arxius
en en un directori públic accessible. Si es tria l'opció <em>segur</em>, la carpeta
en la que es desen els arxius no seran públics. Els vincles de descàrrega
d'adjunts del frontend, descarregaran els arxius però no de forma directa.
Això evitarà l'accés a usuaris que no tinguin els permisos adequats. Si no es
selecciona la descàrrega <em>segur</em>, els vincles es visualitzaran segons s'ha
indicat abans, però els arxius estaran accessibles a tothom que conegui la
URL completa, ja que la carpeta on s'emmagatzemen és pública. Aquesta opció
<em>segur</em> n'evita l'accés ni que es conegui l'adreça URL completa.</p>
</li>
<li><p class="first"><strong>Llista dels adjunts en mode segur</strong>
Llista dels adjunts en mode segur, fins i tot quan els usuaris no s'han registrat
i l'opció 'Qui pot veure els adjunts' està a 'Ningú'. Aquesta opció encara
controla si es poden descarregar els adjunts, fins i tot en mode segur. Aquesta
opció només té sentit en mode segur.</p>
</li>
<li><p class="first"><strong>Mode de descàrrega segura</strong>
Aquesta opció controla si els arxius s'han de descarregar com a arxius independents
o visualitzar al mateix navegador (si el navegador pot gestionar el tipus
d'arxiu). Hi ha dues opcions:</p>
<blockquote>
<ul class="simple">
<li><em>'En línia'</em> - En aquest mode, els arxius és visualitzen al navegador (si és possible)</li>
<li><em>'Adjunt'</em> - En aquest mode, els arxius sempre es descarreguen com arxius independents.</li>
</ul>
</blockquote>
<p>En qualsevol cas, els arxius que no es poden visualitzar al navegador es
descarregaran com a arxius externs.</p>
</li>
</ul>
</div>
<div class="section" id="mostrar-el-nom-d-arxiu-o-url">
<h1><a class="toc-backref" href="#id5">Mostrar el nom d'arxiu o URL</a></h1>
<p>Normalment, quan s'han carregat els arxius (o referenciat URLs) i es llisten a
la llista d'adjunts, es mostra el nom complert (o la URL) com a vincle per a
descarregar els adjunts. En alguns casos, el nom de l'arxiu (o URL) pot ser massa
llarg per a que funcioni correctament. Al formulari de càrrega, hi ha un altre
camp que es diu &quot;Mostrar el nom d'arxiu o URL&quot; en el que l'usuari que caregui
l'arxiu pot insertar un nom alternatiu d'arxiu o URL. Per exemple, es pot posar
un nom abreviat. El camp es pot editar des del backend quan s'editen els adjunts.
Nota: Hi ha l'opció &quot;Longitud màxima del nom d'arxiu o URL&quot; a les opcions de
l'extensió. Pot activar-se per a que es trunqui automàticament el nom dels adjunts
carregats; el resultat es visualitza al camp &quot;Mostra el nom d'arxiu o URL&quot;.</p>
</div>
<div class="section" id="adjuntant-urls">
<h1><a class="toc-backref" href="#id6">Adjuntant URLs</a></h1>
<p>Una nova funcionalitat de la versió 2.0 és la possibilitat d'adjuntar URLs als
continguts. Quan s'obre un dels diàlegs per &quot;Afegir adjunts&quot;, es visualitza un
botó etiquetat com &quot;Entrar una URL en el seu lloc&quot;. Si es selecciona apareix
una entrada per la URL i dues noves opcions:</p>
<ul>
<li><dl class="first docutils">
<dt><strong>Verificar l'existència de la URL?</strong> - Per tal de determinar el tipus d'arxiu</dt>
<dd><dl class="first last docutils">
<dt>de la URL (per tal de triar la icona adequada), el codi consulta al</dt>
<dd><p class="first last">servidor sobre informació bàsica de l'arxiu incloent-ne el tipus i la mida.
En certs casos, el servidor no envia la informació sol·licitada perquè la
URL no és vàlida. Per defecte, el component no accepta URLs no validades pel
servidor. Però si se sap que si que ho és es pot deseleccionar aquesta opció
per tal de forçar l'extensió a que accepti la URL -- sense garantia de que el
tipus d'arxiu i la mida siguin correctes. El servidor es consulta independentment
de que l'opció estigui activada o no.</p>
</dd>
</dl>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>URL relativa?</strong> - Normalment les URL que s'entren són del tipus 'http...' i</dt>
<dd><dl class="first last docutils">
<dt>indicar una adreça web completa. Si es vol apuntar a arxius/controls relatius</dt>
<dd><p class="first last">a la instal·lació Joomla amb la que es treballa, es pot activar aquesta opció.</p>
</dd>
</dl>
</dd>
</dl>
</li>
</ul>
<p>Les URLs es mostren amb la icona del tipus i superposada amb una fletxa (que
indica si el vincle és correcte) o una barra diagonal vermella (indicant que no
s'ha pogut validar). Quan s'edita una URL, es pot canviar l'opció per tal d'obtenir
la superposició desitjada. També cal notar que aquesta opció es pot desactivar
totalment utilitzant el paràmetre <strong>Superposa icones pels hipervincles</strong>. Hi ha
diversos funcionalitats útils relacionats amb les URLs i arxius a l'opció
&quot;Utilitats&quot; al backend de l'administrador.</p>
</div>
<div class="section" id="a-qu-es-poden-adjuntar-els-arxius">
<h1><a class="toc-backref" href="#id7">A què es poden adjuntar els arxius?</a></h1>
<p>A més d'adjuntar arxius o URLs als articles, ara és possible adjuntar-los
a altres tipus d'ítems com són les Seccions i les Categories (veure a sota).
Si es disposa dels plugins per Adjuntar apropiats, es poden adjuntar arxius
o URLs a una gran varietat de continguts com són els perfils, la descripció
de productes a carrets de la compra, etc. Bàsicament, qualsevol ítem que es
mostri al frontend i utilitzi l'event <tt class="docutils literal"><span class="pre">'onPrepareContent'</span></tt> pot contindre
adjunts (si el plugin adequat està instal·lat). Els ítems amb contingut que
invoquen events de contingut normalment són ítems que tenen alguna cosa per
visualitzar (com els articles) o tenen descripcions.</p>
<div class="section" id="adjuntant-arxius-o-urls-a-les-descripcions-de-secci-o-categoria">
<h2>Adjuntant Arxius o URLs a les descripcions de Secció o Categoria</h2>
<p>Amb aquesta versió de l'extensió, els usuaris poden adjuntar Arxius o URLs
a les descripcions de Secció o Categoria. Aquestes descripcions normalment
tan sols són visibles a les pàgines de categories o seccions en format Blog
si el paràmetre 'descripció' està posat a <em>Mostrar</em> (al menú d'edició). Les
opcions per adjuntar arxius o URLs a les descripcions de seccions o categories
no es poden fer des del seu editor. S'han d'adjuntar utilitzant les opcions
&quot;Adjunts&quot; del menú &quot;Components&quot; al backend.</p>
<p>Si es vol saber més sobre com desenvolupar nous plugins per l'extensió, hi ha
un manual disponible que forma part de la instal·lació del component:</p>
<ul class="simple">
<li><a class="reference external" href="../en-GB/plugin_manual/html/index.html">Attachments Plugin Creation Manual</a> (en anglès)</li>
</ul>
</div>
</div>
<div class="section" id="estils-css-per-a-les-llistes-d-adjunts">
<h1><a class="toc-backref" href="#id8">Estils CSS per a les llistes d'adjunts</a></h1>
<p>Les llistes d'adjunts que es mostren al frontend es fan utilitzant un 'div'
especial que conté una taula associada als adjunts. La taula conté diferents
classes CSS associades, això permet que el desenvolupador personalitzar aquesta
taula. Consulta el l'arxiu CSS del 'plugin (a plugins/content/attachments.css)
per veure'n exemples. Si es vol modificar l'estil, s'aconsella copiar els estils
actuals al final de l'arxiu reanomenant els 'attachmentsList' copiats pel nom
desitjat. Editar el paràmetre 'Adjunts' (al gestor de components) i modificar el
paràmetre <em>taula d'estil dels adjunts</em> pel nou nom de la classe. Fer-ho d'aquesta
manera permet tornar als estils inicials de forma senzilla i ràpida. També té
l'avantatge de poder copiar els estils a les noves versions de l'extensió quan
s'actualitzi. Això es pot fer utilitzant la comanda CSS &#64;import.</p>
</div>
<div class="section" id="icones-per-tipus-d-arxiu">
<h1><a class="toc-backref" href="#id9">Icones per tipus d'arxiu</a></h1>
<p>L'extensió 'Adjunts' afegeix una icona davant de cada adjunt a la llista d'adjunts.
Si es vol afegir un nou tipus d'icona, cal seguir els següents passos: (1) Afegir
una icona al directori 'media/attachments/icons', si no hi ha ja la icona; (2)
Editar l'arxiu 'components/com_attachments/file_types.php' i afegir una línia
a l'array $attachments_icon_from_file_extension que mapeja les extensions dels
arxius amb el nom de les icones (al directori media/attachments/icons). Si no
funciona, pot fer falta afegir a l'array $attachments_icon_from_mime_type. (3)
No oblidar fer copies de l'arxiu d'icones i de l'arxiu actualitzat file_types.php
en una carpeta fora de la web pública abans d'actualitzar futures versions.</p>
</div>
<div class="section" id="traduccions">
<h1><a class="toc-backref" href="#id10">Traduccions</a></h1>
<p>Aquesta extensió proporciona capacitats de traducció i suporta els següents
idiomes (a més a més de l'anglès). La major part d'aquestes traduccions estan
pendents d'actualització a la versió 2.0
Gràcies als traductors:</p>
<ul class="simple">
<li><strong>Bulgarian:</strong> by Stefan Ilivanov</li>
<li><strong>Catalan:</strong> by Jaume Jorba</li>
<li><strong>Chinese:</strong> Traditional and simplified Chinese translations by baijianpeng (白建鹏)</li>
<li><strong>Croatian:</strong> Tanja Dragisic</li>
<li><strong>Czech:</strong> by Tomas Udrzal</li>
<li><strong>Dutch:</strong> by Parvus (version 1.3.4 and 2.0)</li>
<li><strong>Finnish:</strong> by Tapani Lehtonen</li>
<li><strong>French:</strong> by Pascal Adalian</li>
<li><strong>German:</strong> by Michael Scherer</li>
<li><strong>Greek:</strong> by Harry Nakos</li>
<li><strong>Hungarian:</strong> Formal and informal translations by Szabolcs Gáspár</li>
<li><strong>Italian:</strong> by Lemminkainen and Alessandro Bianchi</li>
<li><strong>Norwegian:</strong> by Espen Gjelsvik</li>
<li><strong>Persian:</strong> by Hossein Moradgholi and Mahmood Amintoosi</li>
<li><strong>Polish:</strong> by Piotr Wójcik</li>
<li><strong>Portuguese (Brazilian):</strong> by Arnaldo Giacomitti and Cauan Cabral</li>
<li><strong>Portuguese (Portugal):</strong> by Bruno Moreira (1.3.4) and José Paulo Tavares (2.0)</li>
<li><strong>Romanian:</strong> by Alex Cojocaru</li>
<li><strong>Russian:</strong> by евгений панчев (Yarik Sharoiko)</li>
<li><strong>Serbian:</strong> by Vlada Jerkovic</li>
<li><strong>Slovak:</strong> by Miroslav Bystriansky</li>
<li><strong>Spanish:</strong> by Carlos Alfaro (1.3.4) and Manuel María Pérez Ayala (2.0)</li>
<li><strong>Swedish:</strong> by Mats Elfström</li>
</ul>
<p>Moltes gràcies als traductors!  si vols ajudar a traduir a un altre idioma, si
us plau contacta amb l'autor (veure la secció 'Contacte' al final)</p>
</div>
<div class="section" id="avisos">
<h1><a class="toc-backref" href="#id11">Avisos</a></h1>
<ul>
<li><p class="first"><strong>Si es disposa d'arxius 'sensibles' o privats, cal utilitzar l'opció
*Descàrrega segura d'arxius adjunts*</strong> Si no s'utilitza aquesta opció, els
arxius adjunts es desen en una carpeta pública i seran accessibles per qualsevol
que conegui la URL complerta. L'opció <em>segur</em> evita l'accés a qualsevol que no
tingui els permisos adequats (tal com es defineixen a les opcions a dalt).
Veure l'apartat <em>Descàrrega segura d'arxius adjunts</em> a sobre per tenir-ne més
detalls.</p>
</li>
<li><p class="first">Cada vegada que es carrega un arxiu, es valida l'existència del subdirectori
on carregar l'arxiu i si no existeix es crea. Per defecte el subdirectori és
'attachments' al directori arrel de la web. El nom del subdirectori es pot
canviar utilitzant l'opció 'Subdirectori per a desar els arxius'. Si l'extensió
no pot crear el subdirectori , s'ha de crear manualment (i poden aparèixer
problemes carregant arxius). Cal assegurar-se de que la carpeta tingui permisos
per carregar arxius. En Linux/Unix, probablement l'opció serà 775. La creació
de la carpeta de pujades pot fallar si la carpeta arrel té permisos que no
permeten al servidor web (i PHP) la creació de subdirectoris. Pot ser
necessari canviar els permisos de forma temporal per permetre la creació dels
subdirectoris necessaris.</p>
</li>
<li><p class="first">Si l'extensió no permet carregar certs tipus d'arxiu (com els arxius zip), cal
assegurar-se de que l'administrador admet l'extensió a l'apartat 'Configuració
multimèdia'. Això funciona d'aquesta manera per evitar la càrrega d'arxius
potencialment perillosos com poden ser arxius html o php. Per fer-ho anar a
&quot;Configuració Global&quot;, al menú &quot;Lloc&quot;, seleccionar la pestanya &quot;Sistema&quot;,
afegir l'extensió apropiada i el tipus MIME a l'apartat &quot;Configuració multimèdia&quot;</p>
</li>
<li><dl class="first docutils">
<dt>si no es poden veure els adjunts des del frontend, poden haver-hi raons diferents:</dt>
<dd><ul class="first last simple">
<li>L'adjunt no s'ha publicat. Anar a l'administrador per canviar l'opció.</li>
<li>L'article o ítem pare no s'ha publicat.</li>
<li>L'opció 'Qui pot veure els adjunts:' està configurat com a 'registrat' i
no s'està registrat. O l'opció està posada a 'Ningú'. Aquestes opcions es
poden modificar des del gestor del component</li>
<li>El plugin no està activat.  Es pot activar des del gestor de connectors.</li>
<li>A 'Contingut - Adjunts' (des del gestor de connectors), el nivell d'accés
no està 'Públic'.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Si es troben límits a les mides dels arxius que s'intenten carregar, intentar
afegir la següent línia a l'arxiu .htacess de l'arrel del lloc web Joomla!:</p>
<pre class="literal-block">
php_value upload_max_filesize 32M
php_value post_max_size 32M
</pre>
<p>on es pot modificar el valor 32M a el valor que es vulgui que serà la mida
màxima de l'arxiu que es podrà carregar.</p>
</li>
<li><p class="first">'Adjunts' actualment es permet &quot;adjuntar&quot; URLs a diferents ítems. Si es treballa
sobre Windows Vista i apareixen problemes adjuntant URLs que utilitzen
<tt class="docutils literal"><span class="pre">localhost</span></tt>, es tracta d'un problema conegut relacionat amb conflictes amb
IPv4 i IPv6.
Per solucionar-ho, editar l'arxiu:</p>
<pre class="literal-block">
C:\Windows\System32\drivers\etc\hosts
</pre>
<p>comentar la línia que té <tt class="docutils literal"><span class="pre">::1</span></tt>. Fixar-se que <tt class="docutils literal"><span class="pre">hosts</span></tt> és un arxiu ocult del
sistema i per tant cal modificar les opcions de la carpeta per veure'l i poder
editar-lo</p>
</li>
<li><p class="first">Quan s'adjunta un arxiu a un article des de l'Editor d'articles, no hi ha
retorn que ens indiqui si l'arxiu s'ha adjuntat. Però funciona! Es podran veure
els adjunts quan l'article es desi.</p>
</li>
<li><p class="first">Ara l'extensió permet adjuntar arxius a articles mentre s'estan creant des de
l'Editor d'Articles. Hi ha una limitació. Els nous adjunts estan en un estat
que podem anomenar &quot;llims&quot; mentre l'adjunt està carregat i l'article encara no
s'ha desat per primer cop. Durant aquest període (sortosament breu), els nous
adjunts s'identifiquen per l'ID de l'usuari. Per tant, si diferents persones
que utilitzen el mateix usuari estan actualitzant articles i carregant adjunts,
no hi ha garantia de que finalment aquests s'hagin adjuntat correctament a
l'article desitjat.</p>
</li>
<li><p class="first">Hi ha disponible un fòrum d'ajuda i un fòrum amb les &quot;Preguntes més freqüents&quot;
per aquesta extensió que està hostejat al web joomlacode.org. Si apareix un
problema no cobert per les pàgines d'ajuda, consultar els fòrums:</p>
<blockquote>
<ul class="simple">
<li><a class="reference external" href="http://joomlacode.org/gf/project/attachments/forum/">Forums pels adjunts a:
http://joomlacode.org/gf/project/attachments/forum/</a></li>
</ul>
</blockquote>
</li>
</ul>
</div>
<div class="section" id="actualitzacions">
<h1><a class="toc-backref" href="#id12">Actualitzacions</a></h1>
<p>Actualment és més senzill. Simplement instal·lar la nova versió</p>
<ul class="simple">
<li><em>[Aquest pas és opcional però es recomana assegurar-se tenir una copia de
seguretat de la base de dades d'adjunts per si de cas aparegués algun problema]</em>
Utilitzar <a class="reference external" href="http://www.phpmyadmin.net/home_page/index.php">phpMyAdmin</a>
(o alguna altra eina SQL) per desar el contingut de la taula
jos_attachments (Utilitzar l'opció 'Exportar' amb les subopcions 'Completar
insercions' i no 'Insercions ampliades'). També s'ha de fer copies de seguretat
dels arxius carregats (normalment al directori 'attachments')</li>
<li><strong>No s'ha de desinstal·lar la versió anterior d'Adjunts.</strong> això s'ha testejat
amb la versió 1.3.4 (però no amb versions anteriors)</li>
<li>Si es volen mantenir els adjunts existents, no cal fer res. Simplement només
cal instal·lar la nova versió i tot s'actualitzarà correctament.</li>
<li>si no es volen mantenir els adjunts existents, cal esborrar-los primer (des de
l'administració del web).</li>
<li>El multi-instal3lador instal·larà tots els components necessaris i els activarà.
Si no es volen utilitzar tots, instal3lar-los i desactivar-los desprès.</li>
</ul>
</div>
<div class="section" id="agra-ments">
<h1><a class="toc-backref" href="#id13">Agraïments</a></h1>
<p>Moltes gràcies als següents col·laboradors o recursos:</p>
<ul>
<li><p class="first">Al llibre <em>Learning Joomla! 1.5 Extension Development: Creating Modules,
Components, and Plugins with PHP</em> by Joseph L. LeBlanc ha estat una gran ajuda
en la creació de l'extensió.</p>
</li>
<li><dl class="first docutils">
<dt>Les icones pels diferents tipus d'arxius provenen de diferents fonts, incloent:</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="http://www.famfamfam.com/lab/icons/silk/">The Silk icons by Mark James (http://www.famfamfam.com/lab/icons/silk/)</a></li>
<li><a class="reference external" href="http://www.zap.org.au/documents/icons/file-icons/sample.html">File-Type Icons 1.2 by John Zaitseff (http://www.zap.org.au/documents/icons/file-icons/sample.html)</a></li>
<li><a class="reference external" href="http://www.brandspankingnew.net/archive/2006/06/doctype_icons_2.html">Doctype Icons 2 by Timothy Groves (http://www.brandspankingnew.net/archive/2006/06/doctype_icons_2.html)</a></li>
<li><a class="reference external" href="http://eis.bris.ac.uk/~cckhrb/webdev/">OpenDocument icons by Ken Baron (http://eis.bris.ac.uk/~cckhrb/webdev/)</a></li>
<li><a class="reference external" href="http://sweetie.sublink.ca">Sweeties Base Pack by Joseph North (http://sweetie.sublink.ca)</a></li>
</ul>
</dd>
</dl>
<p>Algunes de les icones s'han modificat de la imatge original de les webs anteriors.
Si es vol utilitzar la versió original, es poden descarregar des de les webs
anteriors.</p>
</li>
<li><p class="first">Moltes gràcies a Paul McDermott per la seva generosa donació del plugin de cerca!</p>
</li>
<li><p class="first">Gràcies a Mohammad Samini per la seva donació de codi PHP i arxius CSS per a
millorar la visualització d'idiomes que s'escriuen de dreta a esquerra.</p>
</li>
<li><p class="first">Gràcies a Florian Tobias Huber per a la donació de correccions que han millorat
l'extensió de la visualització quna està activa la 'Caché'.</p>
</li>
<li><p class="first">Gràcies a Manuel María Pérez Ayala pel suggeriment de crear el multi-instal·lador.
Aquest utilitza l'API de Joomla per instal·lar el component i tots els connectors
en un sol pas. Crec que la primera versió la va desenvolupar JFusion.</p>
</li>
<li><p class="first">Gràcies a Ewout Weirda pels debats i suggeriments tan útils en el desenvolupament
de l'extensió.</p>
</li>
</ul>
</div>
<div class="section" id="contacte">
<h1><a class="toc-backref" href="#id14">Contacte</a></h1>
<p>Si us plau, per reportar errors o suggeriments <a class="reference external" href="mailto:jmcameron&#64;jmcameron.net">jmcameron&#64;jmcameron.net</a>
ó quna està activa la 'Caché'.
* Gràcies a Manuel Mar</p>
</div>
</div>
<div class="footer">
<hr class="footer" />
Generated on: December 11, 2010 at 04:55 UTC.

</div>
</body>
</html>
